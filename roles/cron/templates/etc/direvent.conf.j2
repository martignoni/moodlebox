# This is the configuration file for direvent. Read
# direvent.conf(5) for more information about how to
# fill this file.

debug 0;

watcher {
  path {{ moodlebox_moodle_source_dir }}/admin/tool/moodlebox/;
  file .reboot-server;
  event CLOSE_WRITE;
  command "/sbin/shutdown -r now";
}

watcher {
  path {{ moodlebox_moodle_source_dir }}/admin/tool/moodlebox/;
  file .shutdown-server;
  event CLOSE_WRITE;
  command "/sbin/shutdown -h now";
}

watcher {
  path {{ moodlebox_moodle_source_dir }}/admin/tool/moodlebox/;
  file .set-server-datetime;
  event CLOSE_WRITE;
  command "/bin/bash {{ moodlebox_moodle_source_dir }}/admin/tool/moodlebox/.set-server-datetime";
}

watcher {
  path {{ moodlebox_moodle_source_dir }}/admin/tool/moodlebox/;
  file .newpassword;
  event CLOSE_WRITE;
  command "/bin/bash {{ moodlebox_moodle_source_dir }}/admin/tool/moodlebox/bin/changepassword.sh";
}

watcher {
  path {{ moodlebox_moodle_source_dir }}/admin/tool/moodlebox/;
  file .wifisettings;
  event CLOSE_WRITE;
  command "/usr/bin/python3 {{ moodlebox_moodle_source_dir }}/admin/tool/moodlebox/bin/changewifisettings.py";
}

watcher {
  path {{ moodlebox_moodle_source_dir }}/admin/tool/moodlebox/;
  file .resize-partition;
  event CLOSE_WRITE;
  command "/bin/bash {{ moodlebox_moodle_source_dir }}/admin/tool/moodlebox/bin/resizepartition.sh";
}
